var m=document.querySelector(".weather-info__time"),o=()=>{let t=new Date,e=t.getHours().toString().padStart(2,"0"),n=t.getMinutes().toString().padStart(2,"0"),d={weekday:"long",day:"numeric",month:"short",year:"numeric"},l=t.toLocaleDateString("ru-RU",d);return m.textContent=`${e}:${n} ${l}`};console.log(o());var r=()=>{document.addEventListener("DOMContentLoaded",()=>{o(),setInterval(o,1e3)})};var c=async t=>{console.log(t);try{let e=await fetch(`https://api.weatherapi.com/v1/current.json?key=62e8139d4e7244d893b32610252002&q=${t}&aqi=no&lang=ru`);if(!e.ok)throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 HTTP: ${e.status}`);return await e.json()}catch(e){throw console.error("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430:",e.message),e}};var h=document.querySelector(".weather__details-count-wind"),y=document.querySelector(".weather__details-count-humadity"),p=document.querySelector(".weather__details-count-temp-min"),_=document.querySelector(".weather__details-count-temp-feel"),w=document.querySelector(".weather__details-count-cloudy"),g=document.querySelector(".weather__details-current-weather"),C=document.querySelector(".weather-info__city"),S=document.querySelector(".weather-info__degrees"),x=document.querySelector(".weather__details-icon"),a=t=>{C.textContent=`${t.location.name}`,g.textContent=`${t.current.condition.text}`,w.textContent=`${t.current.cloud}%`,_.textContent=`${t.current.feelslike_c}`,p.textContent=`${t.current.temp_c}`,y.textContent=`${t.current.humidity}%`,h.textContent=`${t.current.wind_kph} \u043A\u043C/\u0447`,S.textContent=`${Math.trunc(t.current.temp_c)}\xB0`,x.style.backgroundImage=`url(${t.current.condition.icon})`};var u=document.querySelector(".weather__city-select"),s=()=>{u.addEventListener("change",()=>{let t=u.value;i(t)})};r();s();var i=t=>{c(t).then(e=>{a(e)})};export{i as changesCountry};
