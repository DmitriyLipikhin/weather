var l=document.querySelector(".weather-info__time"),n=()=>{let t=new Date,e=t.getHours().toString().padStart(2,"0"),o=t.getMinutes().toString().padStart(2,"0"),d={weekday:"long",day:"numeric",month:"short",year:"numeric"},m=t.toLocaleDateString("ru-RU",d);l.textContent=`${e}:${o} ${m}`},r=()=>{document.addEventListener("DOMContentLoaded",()=>{n(),setInterval(n,1e3)})};var c=async t=>{console.log(t);try{let e=await fetch(`http://api.weatherapi.com/v1/current.json?key=62e8139d4e7244d893b32610252002&q=${t}&aqi=no&lang=ru`);if(!e.ok)throw new Error(`\u041E\u0448\u0438\u0431\u043A\u0430 HTTP: ${e.status}`);return await e.json()}catch(e){throw console.error("\u041F\u0440\u043E\u0438\u0437\u043E\u0448\u043B\u0430 \u043E\u0448\u0438\u0431\u043A\u0430:",e.message),e}};var h=document.querySelector(".weather__details-count-wind"),y=document.querySelector(".weather__details-count-humadity"),p=document.querySelector(".weather__details-count-temp-min"),_=document.querySelector(".weather__details-count-temp-feel"),w=document.querySelector(".weather__details-count-cloudy"),C=document.querySelector(".weather__details-current-weather"),g=document.querySelector(".weather-info__city"),S=document.querySelector(".weather-info__degrees"),x=document.querySelector(".weather__details-icon"),a=t=>{g.textContent=`${t.location.name}`,C.textContent=`${t.current.condition.text}`,w.textContent=`${t.current.cloud}%`,_.textContent=`${t.current.feelslike_c}`,p.textContent=`${t.current.temp_c}`,y.textContent=`${t.current.humidity}%`,h.textContent=`${t.current.wind_kph} \u043A\u043C/\u0447`,S.textContent=`${Math.trunc(t.current.temp_c)}\xB0`,x.style.backgroundImage=`url(${t.current.condition.icon})`};r();s();var u=t=>{c(t).then(e=>{a(e)})};var i=document.querySelector(".weather__city-select"),s=()=>{i.addEventListener("change",()=>{let t=i.value;u(t)})};export{s as chooseCountry};
